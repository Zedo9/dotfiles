#!/bin/sh

export GDK_BACKEND="wayland,x11"
export CLUTTER_BACKEND=wayland
export SDL_VIDEODRIVER=wayland

#XDG_CURRENT_DESKTOP=Sway
#XDG_SESSION_DESKTOP=sway
export MOZ_ENABLE_WAYLAND=1
export MOZ_WAYLAND_USE_VAAPI=1

export XCURSOR_SIZE=24
export _JAVA_AWT_WM_NONREPARENTING=1

# Nvidia stuff
# export LIBVA_DRIVER_NAME=nvidia
#export XDG_SESSION_TYPE=wayland
#export GBM_BACKEND=nvidia-drm
#export __GLX_VENDOR_LIBRARY_NAME=nvidia
#export WLR_NO_HARDWARE_CURSORS=1

export TERMINAL=alacritty
export VISUAL=nvim
export EDITOR=nvim
export BROWSER=firefox

# This detects which is the device path of the integrated card
# val=$(udevadm info -a -n /dev/dri/card1 | grep boot_vga | rev | cut -c 2)
# WLR_DRM_DEVICES="/dev/dri/card$val" sway

# The first card is used for actual rendering
# and display buffers are copied to the secondary cards for any displays connected to them.
#WLR_DRM_DEVICES=/dev/dri/card0:/dev/dri/card1 Hyprland
exec sway --unsupported-gpu
