#!/bin/sh

[ -f ~/.xprofile ] && . ~/.xprofile

export LIBSEAT_BACKEND=logind

export GTK_THEME=Dracula
export XDG_CURRENT_DESKTOP=sway
export XDG_SESSION_TYPE=wayland

# Force firefox into wayland and enable hw video decoding (ff 75+)
export MOZ_ENABLE_WAYLAND=1
export MOZ_WAYLAND_USE_VAAPI=1
export MOZ_DBUS_REMOTE=1
export GTK_CSD=0
export GDK_BACKEND=wayland
export CLUTTER_BACKEND=wayland

# Nvidia
export GBM_BACKEND=nvidia-drm
export __GLX_VENDOR_LIBRARY_NAME=nvidia

# qt wayland
export QT_QPA_PLATFORMTHEME=qt5ct
export QT_WAYLAND_DISABLE_WINDOWDECORATION="1"
export QT_QPA_PLATFORM=wayland
export QT_WAYLAND_FORCE_DPI=physical

# see https://github.com/swaywm/sway/wiki/GTK-3-settings-on-Wayland
export WLR_NO_HARDWARE_CURSORS=1
export WLR_DRM_NO_MODIFIERS=1

exec sway --unsupported-gpu
